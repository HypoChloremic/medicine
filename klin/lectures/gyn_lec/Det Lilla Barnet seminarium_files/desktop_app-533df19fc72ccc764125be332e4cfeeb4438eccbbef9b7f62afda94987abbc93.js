(function(){var n,e,t,o,r,i,c,u,d,a,w,l,s,f;e="kcljbbiddpoeaknnjaminoceoojdbikp",n="dkioigicbijecidbooccnhfafineggga",l=function(n,e,t){return document.addEventListener("click",function(o){var r;if(o.currentTarget&&o.currentTarget.activeElement&&"A"===o.currentTarget.activeElement.tagName){if(!(r=o.currentTarget.activeElement).dataset.appTarget)return o.preventDefault(),r.baseURI.toUpperCase().includes("/AUTH/")||r.href.toUpperCase().includes("/AUTH/")?n(r.href):t(r.href);switch(o.preventDefault(),r.dataset.appTarget){case"none":break;case"self":return n(r.href);case"blank":return e(r.href);case"browser":return t(r.href)}}})},w=function(n){document.firstElementChild.classList+=" desktopapp",n&&(document.firstElementChild.classList+=" "+n)},s=function(n){var e,t;for(t in e=chrome.app.window.getAll())if(n===e[t].contentWindow.location.href)return e[t].focus(),!1;return!0},o=function(n){var e,t,o,r,i,c,u,d;for(i in c=-1,u=-1,r=chrome.app.window.current()||chrome.app.window.getAll()[0],t=chrome.app.window.getAll(),e=[],r&&(c=(r.x||r.innerBounds.left)+20,u=(r.y||r.innerBounds.top)+20),t)(d=t[i])&&e.push({x:d.innerBounds.left,y:d.innerBounds.top});for(i in e.sort(function(n,e){return n.x<e.x?-1:n.x>e.x?1:0}),e)c===(o=e[i]).x&&console.log("increase"),c=c===o.x?o.x+20:c,u=u===o.y?o.y+20:u;return n({x:c=-1===c?null:c,y:u=-1===u?null:u})},i=function(n){var e;return decodeURIComponent(null!=(e=RegExp(n+"[^;]+").exec(document.cookie))?e.toString().replace(/^[^=]+./,""):void 0)},c=function(n){var e,t,o,r,i,c;return c=(i=-.15)<0?0:255,r=i<0?-1*i:i,o=n[0],t=n[1],e=n[2],[Math.round((c-o)*r)+o,Math.round((c-t)*r)+t,Math.round((c-e)*r)+e]},t=function(n){var e;return 1===(e=n.toString(16)).length?"0"+e:e},f=function(n){return"#"+t(n[0])+t(n[1])+t(n[2])},r=function(n){var e;return e={color:"#ebebeb",inactiveColor:"#f8f8f8"},new Promise(function(t){var o;return o=new URL(n),fetch(o.origin+"/walls/address:"+o.pathname.slice(1)).then(function(n){return n.json()}).then(function(n){return t({color:f(c(n.background.dominant_color)),inactiveColor:f(n.background.dominant_color)})})["catch"](function(){return t(e)})})},u=function(){return window.alert},d=function(){return window.confirm},a=function(){return window.prompt},function(){window.require=window.require||function(n){return console.log("Cannot load"+n+". The page should be loaded in NWJS app or some node environment"),function(){function n(){}return n}()},window.process=window.process||{cwd:function(){}},window.nw=window.nw||{App:{}},window.alert=u(),window.confirm=d(),window.prompt=a(),window.$desktopApp={},window.addEventListener("load",function(){var t,c,u,d,a,f,m,p,h;"undefined"!=typeof chrome&&null!==chrome&&null!=(f=chrome.runtime)&&"function"==typeof f.sendMessage&&f.sendMessage(e,{status:"loaded"}),"undefined"!=typeof chrome&&null!==chrome&&null!=(m=chrome.runtime)&&"function"==typeof m.sendMessage&&m.sendMessage(n,{status:"loaded"}),"undefined"!=typeof chrome&&null!==chrome&&null!=(p=chrome.runtime)&&null!=(h=p.onMessage)&&h.addListener(function(n){if(n.command){if("setMenu"===n.command)return nw.Window.get().menu=n.menu;if("actualSize"===n.command)return nw.Window.get().zoomLevel=0;if("zoomIn"===n.command)return nw.Window.get().zoomLevel++;if("zoomOut"===n.command)return nw.Window.get().zoomLevel--;if("fullScreen"===n.command)return nw.Window.get().toggleFullscreen()}}),"undefined"!=typeof Windows&&(l(t=function(n,e){return window.open(n,e||"_top")},function(n){return window.open(n,"_blank")},function(n){return Windows.System.Launcher.launchUriAsync(new Windows.Foundation.Uri(n))}),w()),c=!1,a=!1,d=!1,(u=i("ww_da"))&&"undefined"!==u?(c=!0,a="nwjs"===u,d="other"===u):((c=ww&&ww.device&&ww.device.desktopApp)||(c=document.documentElement.dataset.variant&&document.documentElement.dataset.variant.includes("desktopapp")),(d=ww&&ww.device&&ww.device.electron)||(d=document.documentElement.dataset.variant&&document.documentElement.dataset.variant.includes("electron")),(a=ww&&ww.device&&ww.device.nwjs)||(a=document.documentElement.dataset.variant&&document.documentElement.dataset.variant.includes("nwjs"))),c&&(a?(w("nwjs"),t=function(n,e){if(e&&"_top"!==e||(window.location.href=n),"_blank"===e)return nw.Window.open(n)},ww.navigateDesktopApp=t,l(t,function(n){if(s(n))return r(n).then(function(e){return o(function(t){var o;o={innerBounds:{width:1280,height:800,minWidth:400,minHeight:200,left:t.x,top:t.y},frame:{type:"chrome",color:e.color,inactiveColor:e.inactiveColor}},chrome.app.window.create(n,o)})})},function(n){return nw.Shell.openExternal(n)})):d&&l(t=function(n,e){if(e&&"_top"!==e||window.__macAppMsgCenter.bridge.navigate(n),"_blank"===e)return window.__macAppMsgCenter.bridge.openNewWindowInApp(n)},function(n){return window.__macAppMsgCenter.bridge.openNewWindowInApp(n)},function(n){return window.__macAppMsgCenter.bridge.openInBrowser(n)}))})}()}).call(this),function(){}.call(this);